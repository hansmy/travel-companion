<!DOCTYPE html>
<html>
	<head>
		<meta charset=utf-8 />
		<title>Ember Leaflet</title>
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<link href="css/bootstrap-responsive.css" rel="stylesheet">
		<link href="//netdna.bootstrapcdn.com/twitter-bootstrap/2.3.1/css/bootstrap-combined.no-icons.min.css" rel="stylesheet">
		<link href="//netdna.bootstrapcdn.com/font-awesome/3.1.1/css/font-awesome.min.css" rel="stylesheet">
		<link rel="stylesheet" href="http://cdn.leafletjs.com/leaflet-0.5/leaflet.css" />
		<!--[if lte IE 8]>
		<link rel="stylesheet" href="http://cdn.leafletjs.com/leaflet-0.5/leaflet.ie.css" />
		<![endif]-->
		<link rel="stylesheet" href="css/leaflet.awesome-markers.css">
		<link rel="stylesheet" href="css/style.css">

	</head>
	<body>
		<div class="container">

			<div class="masthead">
				<div class="navbar">
					<div class="navbar-inner">

						<div class="container">
							<!-- Be sure to leave the brand out there if you want it shown -->
							<a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse"> <span class="icon-bar"></span> <span class="icon-bar"></span> <span class="icon-bar"></span> </a>
							<a class="brand" href="#">AmbieCities</a>

							<form class="navbar-search form-search">
								<div class="input-append">
									<input type="text" class="span3 search-query" placeholder="What's happening around you?">
									<button type="submit" class="btn">
										<i class="icon-search"></i>
									</button>
								</div>

							</form>

							<div class="nav-collapse collapse">
								<ul class="nav nav-pills pull-right">

									<li>
										<a href="#map" class="active" data-toggle="tab">Map</a>
									</li>

									<li>
										<a href="#list" data-toggle="tab">List</a>
									</li>

									<li>
										<a href="#my_location">My Location <i class="icon-globe"></i></a>
									</li>

								</ul>

							</div>
							<!-- .btn-navbar is used as the toggle for collapsed navbar content -->

						</div>

					</div>
				</div><!-- /.navbar -->

			</div>

			<div class="tab-content">
				<div class="tab-pane active" id="map">
					<p>
						<div id="application"></div>
					</p>
				</div>
				<div class="tab-pane" id="list">
					<h3>List <small>Scroll, find or filter!</small></h3>


					<ul class="thumbnails">
						<li class="span4">
							<div class="thumbnail">
								<img src="http://cdn.londonandpartners.com/visit/london-organisations/houses-of-parliament/63950-640x360-london-icons2-640.jpg" alt="300x200" style="">
								<div class="caption">
									<h3>Westmister</h3>
									<p>
										Ipsum ipsum ipsumi psum ipsumip sumip sumips umipsum
										ipsum ipsumi psum ipsumip sumip.
									</p>
									<p>
										<a href="#" class="btn btn-primary">Visit now!</a><a href="#"
										class="btn">Later...</a>
									</p>
								</div>
							</div>
						</li>
						<li class="span4">
							<div class="thumbnail">
								<img src="http://www.swiftcars.co.uk/DesktopModules/SC_ImageGallery/Data/Modules/module_524/Images/londonlight.jpg" alt="300x200" style="">
								<div class="caption">
									<h3>Tower of London</h3>
									<p>
										Ipsum ipsumi psum ipsumip sumip.
									</p>
									<p>
										<a href="#" class="btn btn-primary">Visit Now!</a><a href="#"
										class="btn">Later...</a>
									</p>
								</div>
							</div>
						</li>
						<li class="span4">
							...
						</li>
					</ul>
				</div>
				<div class="tab-pane" id="tab3">
					<p>
						I'm in section C.
					</p>
				</div>
			</div>

			<div class="footer">
				<p>
					&copy; Ambiesense
				</p>
			</div>
		</div>
		<!-- /container -->

		<script type="text/x-handlebars" data-template-name="index">
			<h3>Map <small>Zoom, Pan the map or drag the markers!</small></h3>
			{{view Ember.LeafletView
			zoomLevelBinding="zoom"
			centerBinding="center"
			markersBinding="supermarkets"
			pathsBinding="paths" }}
			<h3>Ember controls <small>Change the values and check the map above!</small></h3>
			<div class="row-fluid">
			<div class="span5">
			<div class="form-horizontal">
			<div class="control-group">
			<label class="control-label" for="inputZoom">Zoom</label>
			<div class="controls">
			<div class="input-append">
			{{view Ember.TextField valueBinding="zoom" id="inputZoom" classNames="input-small"}}
			<button class="btn" type="button"{{action zoomOut}}><i class="icon-zoom-out"></i></button>
			<button class="btn" type="button"{{action zoomIn}}><i class="icon-zoom-in"></i></button>
			</div>
			</div>
			</div>
			<div class="control-group">
			<label class="control-label" for="inputLng">Center</label>
			<div class="controls">
			<div id="coord" class="input-prepend input-append">
			<span class="add-on" style="border-radius: 4px 0 0 0" >N</span>
			{{view Ember.TextField valueBinding="center.lat" id="coordN" classNames="input-medium"}}
			<span class="add-on" style="border-radius: 0 4px 0 0" >&#xb0;</span>
			</div>
			</div>
			<div class="controls">
			<div id="coord" class="input-prepend input-append">
			<span class="add-on" style="border-radius: 0 0 0 4px;border-top:none;">W</span>
			{{view Ember.TextField valueBinding="center.lng" id="coordW" classNames="input-medium"}}
			<span class="add-on" style="border-radius: 0 0 4px 0;border-top:none;" >&#xb0;</span>
			</div>
			</div>
			</div>

			</div>
			</div>
			<div class="span7">
			<div class="form">
			<div class="control-group">
			<label class="control-label" for="inputS">Markers</label>
			{{#each s in supermarkets}}
			<div class="controls">
			<div class="input-append">
			{{view Ember.TextField valueBinding="s.name" classNames="input-mini" data-toggle="tooltip" title="Popup binding"}}
			{{view Ember.TextField valueBinding="s.location.lat" classNames="input-mini middleinput" data-toggle="tooltip" title="Latitude binding"}}
			{{view Ember.TextField valueBinding="s.location.lng" classNames="input-mini middleinput" data-toggle="tooltip" title="Longitude binding"}}
			<div class="btn-group">
			<button class="btn dropdown-toggle middle" data-toggle="dropdown">
			Icon
			<span class="caret"></span>
			</button>

			<ul class="dropdown-menu">
			{{#each i in icons}}
			<li><a href="#" {{action changeIcon s i.icon}}>{{i.label}}</a></li>
			{{/each}}
			</ul>

			</div>
			<a href="#" {{bindAttr class="s.draggable::active :btn"}} type="button" {{action lock s}}
			data-toggle="tooltip" title="Toggle dragging and highlight">
			<i {{bindAttr class="s.draggable:icon-lock:icon-unlock"}} ></i>
			</a>
			<a href="#" class="btn ttip" {{action centerMarker s}}
			data-toggle="tooltip" title="Center map on this marker">
			<i  class="icon-screenshot"></i>
			</a>
			<button class="btn btn-danger" type="button"{{action remove s}}
			data-toggle="tooltip" title="Delete marker"><i  class="icon-remove icon-white"></i></button>
			</div>
			</div>
			{{else}}
			<div class="controls">
			<div class="alert alert-info">
			<button type="button" class="close" data-dismiss="alert">&times;</button>
			No markers. Add one!
			</div
			</div>
			{{/each}}
			<div class="controls">
			<button class="btn btn-success" type="button"{{action add}}><i class="icon-plus icon-white"></i> Add</button>
			<small class="muted">The new marker will appear at the current center of the map.</small>
			</div>
			</div>
			</div>
			</div>
			</div>
			</div>
			<h3>Paths <small>Change the values and check the map above!</small></h3>
			<div class="row-fluid">
			<div class="span12">
			<div class="form">
			<div class="control-group">
			{{#each p in paths}}
			<div class="controls">
			<div class="input-append">
			{{view Ember.TextField valueBinding="p.label" classNames="input-mini" data-toggle="tooltip" title="Popup binding"}}
			{{view Ember.TextField valueBinding="p.weight" classNames="input-mini middleinput" data-toggle="tooltip" title="Stroke width in pixels"}}
			{{view Ember.TextField valueBinding="p.opacity" classNames="input-mini middleinput" data-toggle="tooltip" title="Opacity binding"}}
			<div class="btn-group">
			<button class="btn dropdown-toggle middle" data-toggle="dropdown">
			Color
			<span class="caret"></span>
			</button>

			<ul class="dropdown-menu">
			<li><a href="#" {{action changeColor p 'red'}}>Red</a></li>
			<li><a href="#" {{action changeColor p 'blue'}}>Blue</a></li>
			<li><a href="#" {{action changeColor p 'yellow'}}>Yellow</a></li>
			<li><a href="#" {{action changeColor p 'green'}}>Green</a></li>
			</ul>

			</div>
			{{#if p.isPolyline}}
			{{#each l in p.locations}}
			{{view Ember.TextField valueBinding="l.lat" classNames="input-mini middleinput" data-toggle="tooltip" title="Polyline vertex latitude"}}
			{{view Ember.TextField valueBinding="l.lng" classNames="input-mini middleinput" data-toggle="tooltip" title="Polyline vertex longitude"}}
			{{/each}}
			{{/if}}
			{{#if p.isCircle}}
			{{view Ember.TextField valueBinding="p.radius" classNames="input-mini middleinput" data-toggle="tooltip" title="Circle Radius binding in meters"}}
			<div class="btn-group">
			<button class="btn dropdown-toggle middle" data-toggle="dropdown">
			Fill Color
			<span class="caret"></span>
			</button>

			<ul class="dropdown-menu">
			<li><a href="#" {{action changeFillColor p 'red'}}>Red</a></li>
			<li><a href="#" {{action changeFillColor p 'blue'}}>Blue</a></li>
			<li><a href="#" {{action changeFillColor p 'yellow'}}>Yellow</a></li>
			<li><a href="#" {{action changeFillColor p 'green'}}>Green</a></li>
			</ul>

			</div>
			{{/if}}
			<a href="#" class="btn ttip" {{action centerPath p}}
			data-toggle="tooltip" title="Center map on this path">
			<i  class="icon-screenshot"></i>
			</a>
			<button class="btn btn-danger" type="button"{{action removePath p}}
			data-toggle="tooltip" title="Delete polyline"><i  class="icon-remove icon-white"></i></button>
			</div>
			</div>
			{{else}}
			<div class="controls">
			<div class="alert alert-info">
			<button type="button" class="close" data-dismiss="alert">&times;</button>
			No polylines.
			</div
			</div>
			{{/each}}
			<div class="controls">
			<div class="btn-group">
			<button class="btn btn-success dropdown-toggle" data-toggle="dropdown">
			<i class="icon-plus icon-white"></i> Add
			<span class="caret"></span>
			</button>

			<ul class="dropdown-menu">
			<li><a href="#" {{action addPipe}}>Polyline</a></li>
			<li><a href="#" {{action addValve}}>Circle</a></li>
			</ul>

			</div>
			<small class="muted">The new path will appear at the current center of the map.</small>
			</div>
			</div>
			</div>
			</div>
			</div>
			</div>
		</script>

		<script src="js/libs/jquery-1.9.1.js"></script>
		<script src="//netdna.bootstrapcdn.com/twitter-bootstrap/2.3.1/js/bootstrap.min.js"></script>
		<script src="js/libs/handlebars-1.0.0-rc.4.js"></script>
		<script src="js/libs/ember-1.0.0-rc.5.js"></script>
		<script src="http://cdn.leafletjs.com/leaflet-0.5/leaflet.js"></script>
		<script src="js/leaflet.awesome-markers.min.js"></script>
		<script src="js/ember-leaflet.js"></script>
		<script src="js/app.js"></script>

	</body>
</html>

